/*C12*/SET SCHEMA PUBLIC
DROP TABLE CLICK IF EXISTS
DROP TABLE SHORTURL IF EXISTS
CREATE TABLE SHORTURL ( HASH VARCHAR(30) PRIMARY KEY, TARGET VARCHAR(1024), SPONSOR VARCHAR(1024), CREATED TIMESTAMP, OWNER VARCHAR(255), MODE INTEGER, SAFE BOOLEAN, IP VARCHAR(20), COUNTRY VARCHAR(50) )
CREATE TABLE CLICK ( ID BIGINT IDENTITY, HASH VARCHAR(10) NOT NULL FOREIGN KEY REFERENCES SHORTURL (HASH), CREATED TIMESTAMP, REFERRER VARCHAR(1024), BROWSER VARCHAR(50), PLATFORM VARCHAR(50), IP VARCHAR(20), COUNTRY VARCHAR(50) )
DROP TABLE CLICK IF EXISTS
DROP TABLE SHORTURL IF EXISTS
CREATE TABLE SHORTURL ( HASH VARCHAR(30) PRIMARY KEY, TARGET VARCHAR(1024), SPONSOR VARCHAR(1024), CREATED TIMESTAMP, OWNER VARCHAR(255), MODE INTEGER, SAFE BOOLEAN, IP VARCHAR(20), COUNTRY VARCHAR(50) )
CREATE TABLE CLICK ( ID BIGINT IDENTITY, HASH VARCHAR(10) NOT NULL FOREIGN KEY REFERENCES SHORTURL (HASH), CREATED TIMESTAMP, REFERRER VARCHAR(1024), BROWSER VARCHAR(50), PLATFORM VARCHAR(50), IP VARCHAR(20), COUNTRY VARCHAR(50) )
/*C14*/SET SCHEMA PUBLIC
DELETE FROM COUNTERS WHERE CLAVE='geoLocations'
INSERT INTO COUNTERS VALUES('geoLocations',6)
COMMIT
/*C12*/DELETE FROM COUNTERS WHERE CLAVE='urlChecked'
INSERT INTO COUNTERS VALUES('urlChecked',19)
COMMIT
/*C13*/SET SCHEMA PUBLIC
DELETE FROM COUNTERS WHERE CLAVE='urlSafe'
INSERT INTO COUNTERS VALUES('urlSafe',19)
COMMIT
/*C12*/INSERT INTO SHORTURL VALUES('f684a3c4','http://example.com/',NULL,'2021-01-13 00:07:46.145000','a3015b2e-ad90-4eae-a0c3-35fdca764ebd',307,NULL,NULL,NULL)
COMMIT
DELETE FROM COUNTERS WHERE CLAVE='urlSafe'
INSERT INTO COUNTERS VALUES('urlSafe',19)
COMMIT
/*C14*/DELETE FROM COUNTERS WHERE CLAVE='geoLocations'
INSERT INTO COUNTERS VALUES('geoLocations',6)
COMMIT
/*C12*/DELETE FROM COUNTERS WHERE CLAVE='urlChecked'
INSERT INTO COUNTERS VALUES('urlChecked',21)
COMMIT
DELETE FROM SHORTURL WHERE HASH='f684a3c4'
INSERT INTO SHORTURL VALUES('f684a3c4','http://example.com/',NULL,'2021-01-13 00:07:46.145000','a3015b2e-ad90-4eae-a0c3-35fdca764ebd',307,TRUE,NULL,NULL)
COMMIT
DELETE FROM SHORTURL WHERE HASH='f684a3c4'
INSERT INTO SHORTURL VALUES('f684a3c4','http://example.com/',NULL,'2021-01-13 00:07:46.145000','a3015b2e-ad90-4eae-a0c3-35fdca764ebd',307,TRUE,NULL,NULL)
COMMIT
DELETE FROM COUNTERS WHERE CLAVE='geoLocations'
INSERT INTO COUNTERS VALUES('geoLocations',6)
COMMIT
/*C14*/DELETE FROM COUNTERS WHERE CLAVE='urlSafe'
INSERT INTO COUNTERS VALUES('urlSafe',21)
COMMIT
/*C13*/DELETE FROM COUNTERS WHERE CLAVE='urlChecked'
INSERT INTO COUNTERS VALUES('urlChecked',21)
COMMIT
/*C12*/INSERT INTO CLICK VALUES(0,'f684a3c4','2021-01-13 00:07:47.889000',NULL,NULL,NULL,'127.0.0.1','Undefined')
COMMIT
/*C13*/DELETE FROM COUNTERS WHERE CLAVE='geoLocations'
INSERT INTO COUNTERS VALUES('geoLocations',7)
COMMIT
/*C12*/DELETE FROM COUNTERS WHERE CLAVE='urlSafe'
INSERT INTO COUNTERS VALUES('urlSafe',21)
COMMIT
/*C13*/DELETE FROM COUNTERS WHERE CLAVE='urlChecked'
INSERT INTO COUNTERS VALUES('urlChecked',21)
COMMIT
/*C12*/DISCONNECT
/*C13*/DISCONNECT
/*C14*/DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
